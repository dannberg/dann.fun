<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Idle Clicker Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background-color: #f0f0f0;
            position: relative;
            min-height: 100vh;
        }

        .counter {
            font-size: 24px;
            font-weight: bold;
            display: none;
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
        }

        .click-button {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 3px solid #333;
            background-color: #fff;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.1s;
            position: fixed;
            top: 25vh;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
        }

        .click-button:hover {
            background-color: #f0f0f0;
        }

        .click-button:active {
            background-color: #e0e0e0;
        }

        .shop {
            display: none;
            position: fixed;
            bottom: 33.33vh;
            left: 20px;
            z-index: 10;
        }

        .shop h1 {
            font-size: 24px;
            text-decoration: underline;
            margin: 0 0 10px 0;
            color: black;
        }

        .shop-item {
            display: none;
            margin: 5px 0;
            align-items: center;
            gap: 10px;
        }

        .shop-item button {
            padding: 5px 10px;
            border: 1px solid #333;
            background-color: #fff;
            cursor: pointer;
            font-size: 14px;
        }

        .shop-item.affordable {
            color: black;
        }

        .shop-item.unaffordable {
            color: #cccccc;
        }

        .shop-item.unaffordable button {
            color: #cccccc;
            border-color: #cccccc;
            cursor: not-allowed;
        }

        .shop-item span {
            font-size: 14px;
        }

        .messages {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 300px;
            height: 280px;
            background-color: #fff;
            border: 2px solid #333;
            padding: 10px;
            overflow-y: auto;
            z-index: 10;
        }

        .messages h1 {
            font-size: 24px;
            text-decoration: underline;
            margin: 0 0 10px 0;
            color: black;
        }

        .message {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin: 2px 0;
            white-space: pre-wrap;
            line-height: 1.2;
        }
    </style>
</head>
<body>
    <div class="counter" id="counter">0</div>
    <button class="click-button" id="clickButton">Click</button>
    <div class="shop" id="shop">
        <h1>Shop</h1>
        <div class="shop-item" id="shopItem1">
            <button id="buyButton1">30</button>
            <span id="shopItem1Desc">+2 per click</span>
        </div>
        <div class="shop-item" id="shopItem2">
            <button id="buyButton2">150</button>
            <span id="shopItem2Desc">+4 per click</span>
        </div>
    </div>

    <div class="messages" id="messages">
        <h1>Messages</h1>
        <div id="messagesContainer"></div>
    </div>

    <script>
        let clickCount = 0;
        let clickPower = 1;
        let hasClicked = false;
        let shopItemCost = 30;
        let shopItemVisible = false;
        let shopItem2Cost = 150;
        let shopItem2Visible = false;
        let shopItem1Quantity = 0;
        let shopItem2Quantity = 0;
        let messagesVisible = false;
        let messageCount = 0;

        const counter = document.getElementById('counter');
        const clickButton = document.getElementById('clickButton');
        const shop = document.getElementById('shop');
        const shopItem = document.getElementById('shopItem1');
        const buyButton = document.getElementById('buyButton1');
        const shopItem2 = document.getElementById('shopItem2');
        const buyButton2 = document.getElementById('buyButton2');
        const shopItem1Desc = document.getElementById('shopItem1Desc');
        const shopItem2Desc = document.getElementById('shopItem2Desc');
        const messages = document.getElementById('messages');
        const messagesContainer = document.getElementById('messagesContainer');

        clickButton.addEventListener('click', function() {
            // First click - show counter
            if (!hasClicked) {
                hasClicked = true;
                counter.style.display = 'block';
            }

            // Increase click count
            clickCount += clickPower;
            counter.textContent = clickCount;

            // Update button text at 15 clicks
            if (clickCount >= 15) {
                clickButton.textContent = 'Keep Clicking';
            }

            // Show shop at 30 clicks
            if (clickCount >= 30 && !shop.style.display) {
                shop.style.display = 'block';
            }

            // Show shop item when it can be afforded for the first time
            if (clickCount >= shopItemCost && !shopItemVisible) {
                shopItemVisible = true;
                shopItem.style.display = 'flex';
            }

            // Show shop item 2 when it can be afforded for the first time
            if (clickCount >= shopItem2Cost && !shopItem2Visible) {
                shopItem2Visible = true;
                shopItem2.style.display = 'flex';
            }

            // Show messages at 1500 clicks
            if (clickCount >= 1500 && !messagesVisible) {
                messagesVisible = true;
                messages.style.display = 'block';
                typeMessage("You're doing great...");
            }

            // Update shop item affordability
            updateShopItemAffordability();
        });

        buyButton.addEventListener('click', function() {
            if (clickCount >= shopItemCost) {
                // Deduct cost from click count
                clickCount -= shopItemCost;
                counter.textContent = clickCount;

                // Increase click power
                clickPower += 2;

                // Increase quantity
                shopItem1Quantity++;
                shopItem1Desc.textContent = `+2 per click (qty: ${shopItem1Quantity})`;

                // Increase cost by 1.1x and round to nearest integer
                shopItemCost = Math.round(shopItemCost * 1.1);
                buyButton.textContent = shopItemCost;

                // Update affordability
                updateShopItemAffordability();
            }
        });

        buyButton2.addEventListener('click', function() {
            if (clickCount >= shopItem2Cost) {
                // Deduct cost from click count
                clickCount -= shopItem2Cost;
                counter.textContent = clickCount;

                // Increase click power
                clickPower += 4;

                // Increase quantity
                shopItem2Quantity++;
                shopItem2Desc.textContent = `+4 per click (qty: ${shopItem2Quantity})`;

                // Increase cost by 1.1x and round to nearest integer
                shopItem2Cost = Math.round(shopItem2Cost * 1.1);
                buyButton2.textContent = shopItem2Cost;

                // Update affordability
                updateShopItemAffordability();
            }
        });

        function updateShopItemAffordability() {
            if (shopItemVisible) {
                if (clickCount >= shopItemCost) {
                    shopItem.className = 'shop-item affordable';
                } else {
                    shopItem.className = 'shop-item unaffordable';
                }
            }
            
            if (shopItem2Visible) {
                if (clickCount >= shopItem2Cost) {
                    shopItem2.className = 'shop-item affordable';
                } else {
                    shopItem2.className = 'shop-item unaffordable';
                }
            }
        }

        function typeMessage(text) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message';
            messagesContainer.appendChild(messageDiv);
            messageCount++;
            
            // Remove oldest message if we have more than 10
            if (messageCount > 10) {
                const firstMessage = messagesContainer.firstChild;
                if (firstMessage && firstMessage.className === 'message') {
                    messagesContainer.removeChild(firstMessage);
                    messageCount--;
                }
            }
            
            let index = 0;
            const fullText = `> ${text}`;
            
            function typeChar() {
                if (index < fullText.length) {
                    messageDiv.textContent += fullText.charAt(index);
                    index++;
                    setTimeout(typeChar, 50); // 50ms delay between characters
                } else {
                    // Auto-scroll to bottom after typing is complete
                    messages.scrollTop = messages.scrollHeight;
                }
            }
            
            typeChar();
        }
    </script>
</body>
</html>